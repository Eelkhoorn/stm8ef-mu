loading ( some shortcuts )

forth
: spr sp-reset ;

: ch __chatting ;

: fi flash-image ;

-- flash region
: fr  ( a len) c.flash-begin flash-region c.flash-end ;

-- flash cell
: fc ( a) 2 fr ;

: __b __building ;

meta

: ho  \m __host ;
: cs ( a --) flush drain c.set-sp ;
: cg  ( --a) flush drain c.get-sp dup tsp ! ;
: f- - ;
: f+ + ;
: f@ @ ;
: f! ! ;
: cpr ( a) ram-copied ! copy-ram ;

forth
-- write cell to flash image and to target
: !flash ( n a) dup h preserve flash dp preserve \m goto swap \m , fc ;

-- write cell to ram image and to target
: !ram ( n a) \t ! remote ;

-- stop backgroud task
: bgs baud-rate bps 0 \m BGADDR !ram ;   ( stop background task)


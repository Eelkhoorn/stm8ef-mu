loading ( some shortcuts )

forth
: spr sp-reset ;

: ch __chatting ;

: fi flash-image ;

-- flash region
: fr  ( a len) c.flash-begin flash-region c.flash-end ;

-- flash interrupt vector
: fv ( a) 2 fr ;

: __b __building ;

meta

: ho  \m __host ;

: cs ( a --) flush drain c.set-sp ;
: cg  ( --a) flush drain c.get-sp dup tsp ! ;

: f- - ;
: f+ + ;
: f@ @ ;
: f! ! ;
: cpr ( a) ram-copied ! copy-ram ;
: bgs baud-rate bps 0 pad ! pad \m BGADDR 2 c.write ;   ( stop background task)

-- write interrupt vector to flash image and to target
: wv ( a v) dup h preserve flash dp preserve \m goto swap \m , fv ;

hex ram

forth
